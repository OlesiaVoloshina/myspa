{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\bloomreach\\\\spa\\\\react-csr\\\\src\\\\components\\\\ProductList.tsx\";\n\n/*\r\n * Copyright 2020 Bloomreach B.V. (http://www.bloomreach.com)\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { BrManageContentButton, BrPageContext } from '@bloomreach/react-sdk';\nexport function ProductList(props) {\n  var _pagination$items;\n\n  const {\n    pagination: paginationRef\n  } = props.component.getModels();\n  const pagination = paginationRef && props.page.getContent(paginationRef);\n\n  if (!pagination) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, (_pagination$items = pagination.items) === null || _pagination$items === void 0 ? void 0 : _pagination$items.map((reference, key) => /*#__PURE__*/React.createElement(ProductListItem, {\n    key: key,\n    item: props.page.getContent(reference),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 50\n    }\n  })), /*#__PURE__*/React.createElement(ProductListPagination, Object.assign({}, pagination, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  })));\n}\nexport function ProductListItem({\n  item\n}) {\n  /*TODO: Get the title, introduction and price from the Product item */\n  const {\n    title,\n    introduction,\n    price\n  } = item.getData();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(BrManageContentButton, {\n    content: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, title && /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"card-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: item.getUrl(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, title)), price && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-subtitle mb-3 text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 20\n    }\n  }, price, \"$\"), introduction && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"card-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 27\n    }\n  }, introduction)));\n}\nexport function ProductListPagination(props) {\n  var _props$previous, _props$previous$links, _props$next, _props$next$links;\n\n  const page = React.useContext(BrPageContext);\n\n  if (!page) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"nav\", {\n    \"aria-label\": \"Product List Pagination\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"pagination\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: `page-item ${props.previous ? '' : 'disabled'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: page.getUrl(`${props === null || props === void 0 ? void 0 : (_props$previous = props.previous) === null || _props$previous === void 0 ? void 0 : (_props$previous$links = _props$previous.links) === null || _props$previous$links === void 0 ? void 0 : _props$previous$links.site}`),\n    replace: true,\n    className: \"page-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \"\\xAB\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"Previous\"))), props.pages.map((links, number) => {\n    var _links$site;\n\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: number,\n      className: `page-item ${number + 1 === props.current.number ? 'disabled' : ''}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: page.getUrl(`${links === null || links === void 0 ? void 0 : (_links$site = links.site) === null || _links$site === void 0 ? void 0 : _links$site.href}`),\n      className: \"page-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, number + 1));\n  }), /*#__PURE__*/React.createElement(\"li\", {\n    className: `page-item ${props.next ? '' : 'disabled'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: page.getUrl(`${props === null || props === void 0 ? void 0 : (_props$next = props.next) === null || _props$next === void 0 ? void 0 : (_props$next$links = _props$next.links) === null || _props$next$links === void 0 ? void 0 : _props$next$links.site}`),\n    className: \"page-link\",\n    replace: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, \"\\xBB\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"Next\")))));\n}","map":{"version":3,"sources":["C:/Projects/bloomreach/spa/react-csr/src/components/ProductList.tsx"],"names":["React","Link","BrManageContentButton","BrPageContext","ProductList","props","pagination","paginationRef","component","getModels","page","getContent","items","map","reference","key","ProductListItem","item","title","introduction","price","getData","getUrl","ProductListPagination","useContext","previous","links","site","pages","number","current","href","next"],"mappings":"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","sourcesContent":["/*\r\n * Copyright 2020 Bloomreach B.V. (http://www.bloomreach.com)\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {Content} from '@bloomreach/spa-sdk';\r\nimport {BrManageContentButton, BrPageContext, BrProps} from '@bloomreach/react-sdk';\r\nexport function ProductList(props: BrProps) {\r\n  const {pagination: paginationRef} = props.component.getModels<PaginationModels>();\r\n  const pagination = paginationRef && props.page.getContent<Pagination>(paginationRef);\r\n  if (!pagination) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div>\r\n      {pagination.items?.map((reference, key) => <ProductListItem key={key}\r\n                                                                  item={props.page.getContent(reference)!}/>)}\r\n      <ProductListPagination {...pagination} />\r\n    </div>\r\n  );\r\n}\r\ninterface ProductListItemProps {\r\n  item: Content;\r\n}\r\nexport function ProductListItem({item}: ProductListItemProps) {\r\n  /*TODO: Get the title, introduction and price from the Product item */\r\n  const {title, introduction, price} = item.getData<Product>();\r\n  return (\r\n    <div className=\"card mb-3\">\r\n      <BrManageContentButton content={item}/>\r\n      <div className=\"card-body\">\r\n        { title && (\r\n          <h2 className=\"card-title\">\r\n            <Link to={item.getUrl()!}>{title}</Link>\r\n          </h2>\r\n        ) }\r\n        { price && <div className=\"card-subtitle mb-3 text-muted\">{price}$</div> }\r\n        { introduction && <p className=\"card-text\">{introduction}</p> }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport function ProductListPagination(props: Pagination) {\r\n  const page = React.useContext(BrPageContext);\r\n  if (!page) {\r\n    return null;\r\n  }\r\n  return (\r\n    <nav aria-label=\"Product List Pagination\">\r\n      <ul className=\"pagination\">\r\n        <li className={`page-item ${props.previous ? '' : 'disabled'}`}>\r\n          <Link to={page.getUrl(`${props?.previous?.links?.site}`)} replace className=\"page-link\">\r\n            <span aria-hidden=\"true\">&laquo;</span>\r\n            <span className=\"sr-only\">Previous</span>\r\n          </Link>\r\n        </li>\r\n        {props.pages.map((links, number) => (\r\n          <li key={number} className={`page-item ${number + 1 === props.current.number ? 'disabled' : ''}`}>\r\n            <Link to={page.getUrl(`${links?.site?.href}`)} className=\"page-link\">{number + 1}</Link>\r\n          </li>\r\n        ))}\r\n        <li className={`page-item ${props.next ? '' : 'disabled'}`}>\r\n          <Link to={page.getUrl(`${props?.next?.links?.site}`)} className=\"page-link\" replace>\r\n            <span aria-hidden=\"true\">&raquo;</span>\r\n            <span className=\"sr-only\">Next</span>\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}