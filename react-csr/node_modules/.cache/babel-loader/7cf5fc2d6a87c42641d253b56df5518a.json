{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\bloomreach\\\\spa\\\\react-csr\\\\src\\\\components\\\\Content.tsx\";\n\n/*\n * Copyright 2019-2020 Hippo B.V. (http://www.onehippo.com)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport { BrManageContentButton } from '@bloomreach/react-sdk';\nexport function Content(props) {\n  var _image$getOriginal;\n\n  const {\n    document: documentRef\n  } = props.component.getModels();\n  const document = documentRef && props.page.getContent(documentRef);\n\n  if (!document) {\n    return null;\n  }\n\n  const {\n    author,\n    content,\n    publicationDate,\n    date = publicationDate,\n    image: imageRef,\n    title\n  } = document.getData();\n  const image = imageRef && props.page.getContent(imageRef);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: props.page.isPreview() ? 'has-edit-button' : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(BrManageContentButton, {\n    content: document,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }), image && /*#__PURE__*/React.createElement(\"img\", {\n    className: \"img-fluid mb-3\",\n    src: (_image$getOriginal = image.getOriginal()) === null || _image$getOriginal === void 0 ? void 0 : _image$getOriginal.getUrl(),\n    alt: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 18\n    }\n  }), title && /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 18\n    }\n  }, title), author && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mb-3 text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 19\n    }\n  }, author), date && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mb-3 small text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }, new Date(date).toDateString()), content && /*#__PURE__*/React.createElement(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: props.page.rewriteLinks(content.value)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 20\n    }\n  }));\n}","map":{"version":3,"sources":["C:/Projects/bloomreach/spa/react-csr/src/components/Content.tsx"],"names":["React","BrManageContentButton","Content","props","document","documentRef","component","getModels","page","getContent","author","content","publicationDate","date","image","imageRef","title","getData","isPreview","getOriginal","getUrl","Date","toDateString","__html","rewriteLinks","value"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,qBAAT,QAA+C,uBAA/C;AAEA,OAAO,SAASC,OAAT,CAAiBC,KAAjB,EAAiC;AAAA;;AACtC,QAAM;AAAEC,IAAAA,QAAQ,EAAEC;AAAZ,MAA4BF,KAAK,CAACG,SAAN,CAAgBC,SAAhB,EAAlC;AACA,QAAMH,QAAQ,GAAGC,WAAW,IAAIF,KAAK,CAACK,IAAN,CAAWC,UAAX,CAAgCJ,WAAhC,CAAhC;;AAEA,MAAI,CAACD,QAAL,EAAe;AACb,WAAO,IAAP;AACD;;AAED,QAAM;AACJM,IAAAA,MADI;AAEJC,IAAAA,OAFI;AAGJC,IAAAA,eAHI;AAIJC,IAAAA,IAAI,GAAGD,eAJH;AAKJE,IAAAA,KAAK,EAAEC,QALH;AAMJC,IAAAA;AANI,MAMMZ,QAAQ,CAACa,OAAT,EANZ;AAOA,QAAMH,KAAK,GAAGC,QAAQ,IAAIZ,KAAK,CAACK,IAAN,CAAWC,UAAX,CAAgCM,QAAhC,CAA1B;AAEA,sBACE;AAAK,IAAA,SAAS,EAAEZ,KAAK,CAACK,IAAN,CAAWU,SAAX,KAAyB,iBAAzB,GAA6C,EAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,qBAAD;AAAuB,IAAA,OAAO,EAAEd,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEIU,KAAK,iBAAI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAgC,IAAA,GAAG,wBAAEA,KAAK,CAACK,WAAN,EAAF,uDAAE,mBAAqBC,MAArB,EAArC;AAAoE,IAAA,GAAG,EAAEJ,KAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFb,EAGIA,KAAK,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,KAAL,CAHb,EAIIN,MAAM,iBAAI;AAAG,IAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAgCA,MAAhC,CAJd,EAKIG,IAAI,iBAAI;AAAG,IAAA,SAAS,EAAC,uBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsC,IAAIQ,IAAJ,CAASR,IAAT,EAAeS,YAAf,EAAtC,CALZ,EAMIX,OAAO,iBAAI;AAAK,IAAA,uBAAuB,EAAE;AAAEY,MAAAA,MAAM,EAAEpB,KAAK,CAACK,IAAN,CAAWgB,YAAX,CAAwBb,OAAO,CAACc,KAAhC;AAAV,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANf,CADF;AAUD","sourcesContent":["/*\n * Copyright 2019-2020 Hippo B.V. (http://www.onehippo.com)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Document, ImageSet } from '@bloomreach/spa-sdk';\nimport { BrManageContentButton, BrProps } from '@bloomreach/react-sdk';\n\nexport function Content(props: BrProps) {\n  const { document: documentRef } = props.component.getModels<DocumentModels>();\n  const document = documentRef && props.page.getContent<Document>(documentRef);\n\n  if (!document) {\n    return null;\n  }\n\n  const {\n    author,\n    content,\n    publicationDate,\n    date = publicationDate,\n    image: imageRef,\n    title } = document.getData<DocumentData>();\n  const image = imageRef && props.page.getContent<ImageSet>(imageRef);\n\n  return (\n    <div className={props.page.isPreview() ? 'has-edit-button' : ''}>\n      <BrManageContentButton content={document} />\n      { image && <img className=\"img-fluid mb-3\" src={image.getOriginal()?.getUrl()} alt={title} /> }\n      { title && <h1>{title}</h1> }\n      { author && <p className=\"mb-3 text-muted\">{author}</p> }\n      { date && <p className=\"mb-3 small text-muted\">{new Date(date).toDateString()}</p> }\n      { content && <div dangerouslySetInnerHTML={{ __html: props.page.rewriteLinks(content.value) }} /> }\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}